{% extends 'base.html' %}

{% block title %}Edit Post{% endblock %}

{% block content %}
<h2>Edit Post</h2>
<div class="card">
    <div class="card-body">
        <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate action="{% url 'post:edit_post' post.id %}">

            {% include 'includes/non_field_errors.html' %}

            {% csrf_token %}

            <div class="form-group mb-3">
                <label for="id_title">Title:</label>
                <input type="text" name="title" value="{{ form.title.value }}" maxlength="100" required id="id_title" class="form-control">
                <div class="invalid-feedback">Please provide a title.</div>
            </div>

            <div class="form-group mb-3">
                <label for="id_content">Content:</label>
                <textarea name="content" cols="40" rows="5" required id="id_content" class="form-control" style="resize: none;">{{ form.content.value }}</textarea>

            </div>

            <div class="form-group mb-3">
                <label for="id_tags">Tags:</label>
                <input type="text" name="tags" maxlength="255" id="id_tags" class="form-control">
            </div>

            <div class="mb-3">
                <label for="formFileMultiple" class="form-label">Images:</label>
                <input class="form-control" type="file" id="formFileMultiple" multiple name="images">

                {% if form.image.errors %}
                    <div class="invalid-feedback">Please choose a valid image file.</div>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}